## css选择器
* 通配选择器、元素选择器、类选择器、ID选择器、属性选择器、分组选择器（将要分组的选择器放在规则左边，并用逗号隔开）、后代选择器、兄弟元素选择器、伪类选择器、伪元素选择器

### 选择器的优先级和权重

* 不同级别!important > 行内样式>ID选择器 > 类选择器 > 标签 > 通配符 > 继承 > 浏览器默认属性
* 同一级别中后写的会覆盖先写的样式
* css选择器使用强烈建议采用低权重原则，利于充分发挥css的继承性，复用性，模块化、组件化

#### 权重
1. 内联样式表的权值为 1000
2. ID 选择器的权值为 100
3. Class 类选择器的权值为 10
4. HTML 标签选择器的权值为 1

我们可以把选择器中规则对应做加法，比较权值，如果权值相同那就后面的覆盖前面的了.
**用数字表示只是说明思想，一万个class也不如一个id权值高**

还有一种权值可以表述为4个部分(如：0,0,0,0)。
1、内联样式 -> 1,0,0,0
2、ID属性值 -> 0,1,0,0
3、类属性值、属性选择或伪类 -> 0,0,1,0
4、元素或伪元素 -> 0,0,0,1
5、结合符和通配选择器 -> 0,0,0,0
#### 继承
继承是从一个元素向其后代元素传递属性值所采用的机制。基于继承机制，样式不仅可以应用到指定的元素，还会应用到它的后代元素
在两个比较特殊的情况需要注意：一个是在HTML中，应用到body元素的背景样式可以传递到html元素；另一个是`<a>`标签不会继承父元素的文本样式

### css选择器的解析原则
**以前一直认为选择器的定位DOM元素是从左向右的方向，但实际上CSS选择器是从右往左解析的。**
[为什么css选择器的解析是从左向右](http://blog.csdn.net/jinboker/article/details/52126021)
* 只要有公用样式，那么选择器最右边的那个类型选择器一定是相同的，如此公共样式就很自然的都集中到一个分支上，这个时候我们完全可以将其他不匹配的路径全部去掉而不用担心会漏掉某些个公用样式了

* 从右往左进行解析还有一个好处那就是从右往左进行匹配的时候，匹配的全部是DOM元素的父节点，而从左往右进行匹配的时候时候，匹配的全部是DOM元素的子节点，这样就避免了HTML与CSS没有下载完需要进行等待的情形

### 伪类
1. 伪类存在的意义是为了通过选择器找到那些不存在。比如`<a>`标签的:link、visited等，这些信息不存在与DOM树结构中，只能通过CSS选择器来获取；
2. DOM树中的信息以及不能被常规CSS选择器获取到的信息。比如伪类:target，它的作用是匹配文档(页面)的URI中某个标志符的目标元素。

* 伪类由一个冒号:开头，冒号后面是伪类的名称和包含在圆括号中的可选参数。任何常规选择器可以再任何位置使用伪类。伪类语法不区别大小写。一些伪类的作用会互斥，另外一些伪类可以同时被同一个元素使用。并且，为了满足用户在操作DOM时产生的DOM结构改变，伪类也可以是动态的。

* 常用的伪类
关于锚点`<a>`，有常见的5个伪类，分别是:link,:hover,:active,:focus,:visited
UI元素伪类包括:enabled、:disabled、:checked三个
E F:nth-of-type(n)          选择父元素的具有指定类型的第n个子元素
E F:nth-child(n)           选择父元素的第n个子元素

不仅可以使用单一伪类，也可以伪类结合使用
### 伪元素
伪元素在DOM树中创建了一些抽象元素，这些抽象元素是不存在于文档语言里的（可以理解为html源码）。比如：documen接口不提供访问元素内容的第一个字或者第一行的机制，而伪元素可以使开发者可以提取到这些信息。并且，一些伪元素可以使开发者获取到不存在于源文档中的内容（比如常见的::before,::after）。

* 伪元素的由两个冒号::开头，然后是伪元素的名称。
* 使用两个冒号::是为了区别伪类和伪元素（CSS2中并没有区别）。当然，考虑到兼容性，CSS2中已存的伪元素仍然可以使用一个冒号:的语法，但是CSS3中新增的伪元素必须使用两个冒号::。
* 一个选择器只能使用一个伪元素，并且伪元素必须处于选择器语句的最后。
* 伪元素创建了一个虚拟容器，这个容器不包含任何DOM元素，但是可以包含内容。另外，开发者还可以为伪元素定制样式。已::first-line为例，它获取了指定元素的第一行内容并且将第一行的内容加入到虚拟容器中。如果通过JavaScript来实现这个逻辑，那么要考虑的因素就太多了，比如制定元素的宽度、字体大小，甚至浮动元素的图文混排等等。当然，这些问题确实是可以用JavaScript来解决的，但是相对于::first-line简简单单的几个字，用JavaScript恐怕不止这些吧！

:first-letter指定一个元素第一个字母的样式，:first-line设置元素中第一行文本的样式（只能用于块级元素）
:before(IE7-浏览器不支持)在元素内容的最开始插入生成内容。:after(IE7-浏览器不支持)在元素内容的最后插入生成内容。默认这两个伪元素是行内元素，且继承元素可继承的属性；IE7-浏览器中必须声明!DOCTYPE，否则不起作用
::selection(IE8-浏览器不支持)匹配被用户选择的部分

**content属性应用于before和after伪元素**
```content:<string>|<uri>|attr(<identifier>)```content的值可以是字符串，url地址，也可以插入元素属性值
用伪元素实现图片叠加效果 
```
body{
    margin: 0;
}    
.box{
    position:relative;
    margin: 30px auto 0;
    width: 300px;
}
.box-img{
    position: absolute;
    z-index:1;
    border: 5px solid gray;    
}
.box:before,.box:after{
    content:"";
    position: absolute;    
    background-color: #D5B07C;
    width: 300px;
    height: 200px;
    border: 5px solid gray;
}
.box:before{
    left: -10px;
    top: 0;
    transform: rotate(-5deg);
}
.box:after{
    top: 4px;
    left: 0;
    transform: rotate(4deg);
}
```
```<div class="box">
    <img class="box-img" src="diejia.jpg" alt="图片叠加效果">
</div>
```


### 总结
伪类本质上是为了弥补常规CSS选择器的不足，以便获取到更多信息；
伪元素本质上是创建了一个有内容的虚拟容器；
CSS3中伪类和伪元素的语法不同；
可以同时使用多个伪类，而只能同时使用一个伪元素；


[css选择器的权重题目](http://blog.csdn.net/chedabang/article/details/51763664)
